<div class="container-fluid" fxLayout="row" fxLayoutAlign="space-around start" fxLayoutGap="3%">
  <mat-card fxFlex="30%" class="client-card" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="2%">
    <mat-form-field>
      <mat-label>Add Clients</mat-label>
      <input matInput [formControl]="clientChoice" [matAutocomplete]="clientsAutocomplete" />
    </mat-form-field>

    <mat-autocomplete
      autoActiveFirstOption
      #clientsAutocomplete="matAutocomplete"
      [displayWith]="displayClient"
      (optionSelected)="getClientIdSelect($event.option.value)"
    >
      <mat-option *ngFor="let client of clientsData" [value]="client">
        {{ client.displayName }} - chi nhánh: {{ client.officeName }}
      </mat-option>
    </mat-autocomplete>

    <div class="mat-table" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="2%">
      <div class="mat-header-row" fxLayout="row" fxLayoutAlign="start center">
        <div class="mat-header-cell" fxFlex="25%">Client Details</div>
        <button mat-icon-button (click)="addClient()" [disabled]="!displayAddClient">
          <fa-icon icon="plus"></fa-icon>
        </button>
      </div>
      <div class="mat-row">
        <div class="mat-cell" fxFlex="20%">Name</div>
        <div class="mat-cell" fxFlex="80%">{{ clientChoice.value.displayName }}</div>
      </div>
      <div class="mat-row">
        <div class="mat-cell" fxFlex="20%">Id</div>
        <div class="mat-cell" fxFlex="80%">{{ clientChoice.value.id }}</div>
      </div>
      <div class="mat-row">
        <div class="mat-cell" fxFlex="20%">Office</div>
        <div class="mat-cell" fxFlex="80%">{{ clientChoice.value.officeName }}</div>
      </div>
    </div>
  </mat-card>

  <mat-card fxFlex="68%">
    <h3 matSubheader>Client Members</h3>

    <!-- <mat-nav-list *ngIf="clientMembers?.length">
      <div mat-list-item *ngFor="let client of clientMembers index as i">
        <span matLine class="p-t-10">{{client.displayName}} - chi nhánh: {{client.officeName}} </span>
        <div fxFlex></div>
        <button mat-icon-button color="primary" (click)="showClientDetail(client)">
          <fa-icon icon="eye"></fa-icon>
        </button>
        <button mat-icon-button color="warn" (click)="removeClient(i, client)">
          <fa-icon icon="trash"></fa-icon>
        </button>
      </div>
    </mat-nav-list> -->

    <div class="fix-table1-client">
      <div fxLayout fxLayoutAlign="start center">
        <mat-form-field fxFlex="40%">
          <input matInput type="text" (keyup)="doFilterGroupClients($event)" placeholder="Filter" />
        </mat-form-field>
      </div>
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z1 m-b-30">
        <ng-container matColumnDef="displayName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ "Group_Component.General_tab.Name" | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.displayName }}
          </td>
        </ng-container>
        <ng-container matColumnDef="Status">
          <th mat-header-cell *matHeaderCellDef>Trạng thái</th>
          <td mat-cell *matCellDef="let element">
            <i
              class="fa fa-stop"
              [ngClass]="element.status.code | statusLookup"
              [matTooltip]="element.status.value"
            ></i>
          </td>
        </ng-container>
        <ng-container matColumnDef="Action">
          <th mat-header-cell *matHeaderCellDef>Thao tác</th>
          <td mat-cell *matCellDef="let element, let i = index">
            <button mat-icon-button color="primary" (click)="showClientDetail(element)">
              <fa-icon icon="eye"></fa-icon>
            </button>
            <button mat-icon-button color="warn" (click)="removeClient(i, element)">
              <fa-icon icon="trash"></fa-icon>
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns" class="select-row"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
  </mat-card>
</div>
