<div id="view-limit-terminal">
<mat-card class="mat-elevation-z20 container-custom">

  <mat-card-header>
    <div fxLayout="row wrap" fxLayoutGap="2%" fxLayout.lt-md="column" [formGroup]="formFilter">
      <mat-form-field fxFlex="31%">
        <mat-label>{{ "Terminal_Component.ViewLimitTerminal.officeName" | translate }}</mat-label>
        <input matInput formControlName="officeName">
      </mat-form-field>

      <mat-form-field fxFlex="31%">
        <mat-label>{{ "Terminal_Component.ViewLimitTerminal.terminalName" | translate }}</mat-label>
        <input matInput formControlName="terminalName">
      </mat-form-field>
      <div>
        <div style="margin-top: 15px;" fxLayout="row">
          <div style="margin: 5px; margin-top: 20px;">
            <span>{{ "Terminal_Component.ViewLimitTerminal.length" | translate }} &nbsp;</span> {{terminalFilter.length}}
          </div>
        </div>
      </div>
    </div>
  </mat-card-header>

  <mat-card-content >
<!--  Sum Area  -->
    <mat-card class="sum-area p-b-10">
      <mat-card-content fxLayout="column"  fxLayout.gt-sm="row"
                        fxLayoutAlign="center stretch" fxLayoutAlign.gt-sm="space-evenly center"
                        fxLayoutGap="2%" >
        <div fxLayout="row " fxFlex="20%" class="sum_item">
          <img src="assets/images/icons/transaction_total.svg" />
          <div fxLayout="column">
            <span class="sum-value">{{ terminalFilter.length }}</span>
            <span class="sum-lable" >&nbsp;{{ "Terminal_Component.ViewLimitTerminal.terminalFilterLength" | translate }}</span>
          </div>
        </div>
        <div fxLayout="row " fxFlex="25%" class="sum-item">
          <img src="assets/images/icons/pnlAmount.svg" />
          <div  fxLayout="column">
            <span class="sum-value">{{ totalLimitAmount | money }}</span>
            <span class="sum-label">&nbsp;{{ "Terminal_Component.ViewLimitTerminal.totalLimitAmount" | translate }}</span>
          </div>
        </div>
        <div fxLayout="row " fxFlex="25%" class="sum-item">
          <img src="assets/images/icons/money.svg" />
          <div fxLayout="column">
            <span class="sum-value">{{ totalUsedAmount | money }}</span>
            <span class="sum-label">&nbsp;{{ "Terminal_Component.ViewLimitTerminal.totalUsedAmount" | translate }}</span>
          </div>
        </div>
        <div fxLayout="row " fxFlex="25%" class="sum-item">
          <img src="assets/images/icons/transaction.svg" />
          <div fxLayout="column">
            <span class="sum-value">{{ totalBalanceAmount | money }}</span>
            <span class="sum-label">&nbsp;{{ "Terminal_Component.ViewLimitTerminal.totalBalanceAmount" | translate }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
<!--  Kết thúc  -->

<!--  Bảng dữ liệu chi tiết  -->
    <table mat-table
           multiTemplateDataRows
           matSort
           id="terminal-list"
           class="mat-elevation-z8"
           (matSortChange)="sortData($event)"
           [dataSource]="terminalList" >

      <ng-container matColumnDef="officeName">
        <th  mat-header-cell *matHeaderCellDef mat-sort-header> {{ "Terminal_Component.ViewLimitTerminal.officeName" | translate }}</th>
        <td  mat-cell
            *matCellDef="let terminal"> {{ terminal.officeName}}
          </td>
      </ng-container>

      <ng-container matColumnDef="terminalId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ "Terminal_Component.ViewLimitTerminal.terminalId" | translate }}</th>
        <td mat-cell
            *matCellDef="let terminal"> {{ terminal.terminalId}} </td>
      </ng-container>

      <ng-container matColumnDef="terminalName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ "Terminal_Component.ViewLimitTerminal.terminalName" | translate }}</th>
        <td mat-cell
            *matCellDef="let terminal"> {{ terminal.terminalName}} </td>
      </ng-container>

      <ng-container matColumnDef="limitDefault">
        <th fxHide fxShow.gt-sm mat-header-cell *matHeaderCellDef mat-sort-header> {{ "Terminal_Component.ViewLimitTerminal.limitDefault" | translate }}</th>
        <td fxHide fxShow.gt-sm mat-cell
            *matCellDef="let terminal">
            {{ terminal.limitAmountDefault  | money }}
            </td>
      </ng-container>

      <ng-container matColumnDef="limitMovement">
        <th fxHide fxShow.gt-sm mat-header-cell *matHeaderCellDef mat-sort-header> {{ "Terminal_Component.ViewLimitTerminal.limitMovement" | translate }}</th>
        <td fxHide fxShow.gt-sm mat-cell
            *matCellDef="let terminal">
            {{ terminal.limitAmountMovement  | money }}
            </td>
      </ng-container>

      <ng-container matColumnDef="limitRemain">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ "Terminal_Component.ViewLimitTerminal.limitRemain" | translate }}</th>
        <td mat-cell
            *matCellDef="let terminal">
            {{ terminal.limitRemain  | money }}
            </td>
      </ng-container>

<!--  Bảng thông tin mở rộng trên UI    -->
      <ng-container matColumnDef="expandedDetail">
        <td mat-cell fxShow fxHide.gt-md *matCellDef="let element" [attr.colspan]="displayedColumns.length">
          <div class="example-element-detail" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
            <ul class="example-element-description" fxLayout="column">
              <li><span style="font-weight: bold;">{{ "Terminal_Component.ViewLimitTerminal.terminalId2" | translate }}</span>&nbsp;{{ element.terminalId }}</li>
              <li><span style="font-weight: bold;">{{ "Terminal_Component.ViewLimitTerminal.terminalName2" | translate }}</span> {{ element.terminalName }}</li>
              <li><span style="font-weight: bold;">{{ "Terminal_Component.ViewLimitTerminal.limitAmountDefault2" | translate }}</span> {{ element.limitAmountDefault | money }}</li>
              <li><span style="font-weight: bold;">{{ "Terminal_Component.ViewLimitTerminal.limitAmountMovement" | translate }}</span>&nbsp; &nbsp;{{element.limitAmountMovement | money}}</li>
              <li><span style="font-weight: bold;">{{ "Terminal_Component.ViewLimitTerminal.limitRemain2" | translate }}</span>&nbsp; &nbsp;{{ element.limitRemain | money }}</li>
            </ul>
          </div>
        </td>
      </ng-container>
<!--  Kết thúc    -->
<!--  Phần render table gồm:
        - Header
        - Dòng thông tin bình thường
        - Dòng thông tin mở rông cho mobile UI
-->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let element; columns: displayedColumns"
        class="example-element-row"
        [class.example-expanded-row]="expandedElement === element"
        (click)="expandedElement = expandedElement === element ? null : element"
      ></tr>
      <tr mat-row *matRowDef="let element; columns: ['expandedDetail']" class="example-detail-row">
      </tr>
    </table>
    <mat-paginator paginator [length]="terminalFilter.length" [pageSize]="10" [pageSizeOptions]="[10, 25, 50, 100]"
                   showFirstLastButtons></mat-paginator>
<!--  Kết thúc table   -->

  </mat-card-content>


</mat-card>
</div>
