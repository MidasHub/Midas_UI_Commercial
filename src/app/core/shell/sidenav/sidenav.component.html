<div
  [ngClass]="{
    'sidebar-full': !sidenavCollapsed,
    'sidebar-compact': sidenavCollapsed
  }"
  tourAnchor="id1-1"
>
  <div class="navigation-panel" fxLayout="column">
    <!-- TODO: Allow customization by organization -->
    <div class="mat-elevation-z8">
      <div class="app-brand p-10" [routerLink]="['/home']">
        <img src="../../../../assets/images/Midas-logo.png" alt="app-logo" class="app-logo" />
        <span class="app-logo-text text-muted">MIDAS</span>
      </div>

      <div class="app-user">
        <div class="app-user-photo">
          <!-- TODO: Decision to be taken on providing this feature -->
          <img src="assets/images/user_placeholder.png" alt="app-user-photo" />
        </div>
        <span class="app-user-name mb-05">
          {{ username }}
        </span>
        <div class="app-user-controls">
          <mifosx-search-tool *midasHasPermission="'ALL_FUNCTIONS'"></mifosx-search-tool>
          <button class="xs-button" mat-icon-button matTooltip="Settings" [routerLink]="['/settings']">
            <fa-icon icon="cog"></fa-icon>
          </button>
          <button class="xs-button" mat-icon-button matTooltip="Sign Out" (click)="logout()">
            <fa-icon icon="sign-out-alt"></fa-icon>
          </button>
        </div>
      </div>
    </div>
    <div class="app-sidenav">
      <!-- <div class="mt-1 mb-1 nav-item-sep">
        <mat-divider></mat-divider>
        <span class="text-muted icon-menu-title">Frequently Accessed</span>
      </div>
      <div class="icon-menu">
        <div class="icon-menu-item" *ngFor="let activity of mappedActivities">
          <button mat-raised-button [matTooltip]="activity.toolTip" [routerLink]="[activity.path]">
            <fa-icon [icon]="activity.icon" size="lg"></fa-icon>
          </button>
        </div>
      </div> -->

      <div class="nav-item-sep">
        <mat-divider></mat-divider>
        <span class="text-muted">Main Items</span>
      </div>
      <!-- mat Admin menu -->
      <mat-menu #adminMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item [routerLink]="['/users']">{{ "Toolbar_Component.lblUser" | translate }}</button>
        <button mat-menu-item [routerLink]="['/organization']">{{ "Toolbar_Component.lblOrg" | translate }}</button>
        <button mat-menu-item [routerLink]="['/system']">{{ "Toolbar_Component.lblSys" | translate }}</button>
        <button mat-menu-item [routerLink]="['/products']">{{ "Toolbar_Component.lblProduct" | translate }}</button>
        <button mat-menu-item [routerLink]="['/templates']">{{ "Toolbar_Component.lblTemplate" | translate }}</button>
      </mat-menu>

      <mat-menu #selfServiceMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item [routerLink]="['/self-service/users']">
          {{ "Toolbar_Component.lblUserManagement" | translate }}
        </button>
        <button mat-menu-item [routerLink]="['/self-service/app-configuration']">
          {{ "Toolbar_Component.lblAppConfig" | translate }}
        </button>
        <button mat-menu-item [routerLink]="['/self-service/task-management']">
          {{ "Toolbar_Component.lblTaskManagement" | translate }}
        </button>
      </mat-menu>

      <mat-menu #accountingMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item [routerLink]="['/accounting']">
          {{ "Toolbar_Component.lblAccounting" | translate }}
        </button>
        <button mat-menu-item [matMenuTriggerFor]="reportsMenu">{{ "Toolbar_Component.lblReport" | translate }}</button>
        <button mat-menu-item [matMenuTriggerFor]="adminMenu">{{ "Toolbar_Component.lblAdmin" | translate }}</button>
        <button mat-menu-item [matMenuTriggerFor]="selfServiceMenu">
          {{ "Toolbar_Component.lblSelfService" | translate }}
        </button>
      </mat-menu>

      <mat-menu #reportsMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item [routerLink]="['/reports']">{{ "Toolbar_Component.lblAll" | translate }}</button>
        <button mat-menu-item [routerLink]="['/reports', 'Client']">
          {{ "Toolbar_Component.lblClient" | translate }}
        </button>
        <button mat-menu-item [routerLink]="['/reports', 'Loan']">{{ "Toolbar_Component.lblLoan" | translate }}</button>
        <button mat-menu-item [routerLink]="['/reports', 'Savings']">
          {{ "Toolbar_Component.lblSaving" | translate }}
        </button>
        <button mat-menu-item [routerLink]="['/reports', 'Fund']">{{ "Toolbar_Component.lblFund" | translate }}</button>
        <button mat-menu-item [routerLink]="['/reports', 'Accounting']">
          {{ "Toolbar_Component.lblAccounting" | translate }}
        </button>
        <button mat-menu-item [routerLink]="['/xbrl']">{{ "Toolbar_Component.lblXBRL" | translate }}</button>
      </mat-menu>
      <!-- end admin -->
      <!-- Mat-menu của billpos -->
      <mat-menu #institutionMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item routerLink="/clients/customer">{{ "Toolbar_Component.lblClient" | translate }}</button>
        <button mat-menu-item routerLink="/clients/staff">Nhân viên</button>
        <button mat-menu-item routerLink="/groups">{{ "Toolbar_Component.lblGroup" | translate }}</button>
        <button mat-menu-item routerLink="/accounts/balance-clients">
          {{ "Quản lý công nợ khách hàng khách hàng lẻ" | translate }}
        </button>
        <button mat-menu-item *midasHasPermission="'POS_UPDATE'" routerLink="/accounts/balance-teller">
          {{ "Quản lý số dư teller" | translate }}
        </button>

        <!-- <span fxHide.lg>
          <button mat-menu-item [routerLink]="['/accounting']">{{ "Toolbar_Component.lblAccounting" | translate }}</button>
          <button mat-menu-item [matMenuTriggerFor]="reportsMenu">{{ "Toolbar_Component.lblReport" | translate }}</button>
          <button mat-menu-item [matMenuTriggerFor]="adminMenu">{{ "Toolbar_Component.lblAdmin" | translate }}</button>
          <button mat-menu-item [matMenuTriggerFor]="selfServiceMenu">
            {{ "Toolbar_Component.lblSelfService" | translate }}
          </button>
        </span> -->
      </mat-menu>

      <mat-menu #POSPartnerMenu="matMenu" [overlapTrigger]="false">
        <!-- <button *midasHasPermission="'POS_UPDATE'" mat-menu-item routerLink="/terminals">
          Điều chuyển máy POS
        </button> -->
        <button mat-menu-item *midasHasPermission="'POS_READ'" routerLink="/terminals/limit">
          {{ "Quản lý hạn mức POS" | translate }}
        </button>
        <button mat-menu-item *midasHasPermission="'POS_UPDATE'" routerLink="/terminals">
          {{ "Quản lý máy POS" | translate }}
        </button>
        <button mat-menu-item *midasHasPermission="'POS_CREATE'" routerLink="/third-party">
          {{ "Toolbar_Component.lblThirdParty" | translate }}
        </button>
        <!-- <button mat-menu-item routerLink="/groups/spending-limit">Hạn mức chi tiêu</button> -->
      </mat-menu>

      <mat-menu #transactionMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item routerLink="/transaction">Quản lý giao dịch</button>
        <button mat-menu-item routerLink="/transaction/rollTermSchedule">Quản lý Advance</button>
        <button mat-menu-item routerLink="/transaction/fee-paid-management">Quản lý phí giao dịch</button>
      </mat-menu>

      <mat-menu #BookingMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item routerLink="/booking/agency">Đại lý</button>
        <button mat-menu-item routerLink="/booking/create">Tạo booking nội bộ</button>
        <button *midasHasPermission="'POS_UPDATE'" mat-menu-item routerLink="/booking/view">
          Quản lý booking nội bộ
        </button>
      </mat-menu>

      <mat-menu #MarketingMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item routerLink="/marketing/create">Tạo chiển dịch</button>
        <button mat-menu-item routerLink="/marketing/booking">Booking</button>
      </mat-menu>
      <!-- end -->

      <!-- Application User Help Menu -->
      <mat-menu #applicationMenu="matMenu" [overlapTrigger]="false">
        <button mat-menu-item (click)="help()">
          <mat-icon matListIcon>
            <fa-icon icon="question-circle" size="sm"></fa-icon>
          </mat-icon>
          <span>{{ "Toolbar_Component.lblHelp" | translate }}</span>
        </button>
        <button mat-menu-item [routerLink]="['/profile']">
          <mat-icon>
            <fa-icon icon="user" size="sm"></fa-icon>
          </mat-icon>
          <span>{{ "Toolbar_Component.lblProfile" | translate }}</span>
        </button>
        <button mat-menu-item [routerLink]="['/settings']">
          <mat-icon>
            <fa-icon icon="cog" size="sm"></fa-icon>
          </mat-icon>
          <span>{{ "Toolbar_Component.lblSetting" | translate }}</span>
        </button>
        <button mat-menu-item>
          <mat-icon>
            <fa-icon icon="cog" size="sm"></fa-icon>
          </mat-icon>
          <mifosx-language-selector class="ml-1 language" fxHide.lt-md></mifosx-language-selector>
        </button>

        <button mat-menu-item (click)="logout()" id="logout">
          <mat-icon>
            <fa-icon icon="sign-out-alt" size="sm"></fa-icon>
          </mat-icon>
          <span>{{ "Toolbar_Component.lblSignOut" | translate }}</span>
        </button>
      </mat-menu>

      <!-- end mat Menu -->
      <mat-nav-list>
        <!-- new: Billpos Item -->
        <mat-list-item class="tab-link" [matMenuTriggerFor]="institutionMenu" #institutionMenuTrigger="matMenuTrigger">
          <mat-icon matListIcon><i class="fas fa-list-ol"></i> </mat-icon>
          <a matLine>{{ "Toolbar_Component.labelInstitution" | translate }}</a>
        </mat-list-item>

        <mat-list-item class="tab-link" [matMenuTriggerFor]="POSPartnerMenu" #POSPartnerMenuTrigger="matMenuTrigger">
          <mat-icon matListIcon><i class="fas fa-hands-helping"></i></mat-icon>
          <a matLine>Máy POS và đối tác</a>
        </mat-list-item>
        <mat-list-item class="tab-link" [matMenuTriggerFor]="transactionMenu" #transactionMenuTrigger="matMenuTrigger">
          <mat-icon matListIcon><i class="fas fa-money-check-alt"></i></mat-icon>
          <a matLine>Giao dịch</a>
        </mat-list-item>

        <mat-list-item class="tab-link" [matMenuTriggerFor]="BookingMenu" #BookingMenuTrigger="matMenuTrigger">
          <mat-icon matListIcon><i class="fas fa-book-medical"></i></mat-icon>
          <a matLine>Booking</a>
        </mat-list-item>

        <mat-list-item
          *midasHasActiveModule="'campaignModule'"
          class="tab-link"
          [matMenuTriggerFor]="MarketingMenu"
          #MarketingMenuTrigger="matMenuTrigger"
        >
          <label *midasHasPermission="'POS_UPDATE'">
            <mat-icon matListIcon><i class="fas fa-ad"></i></mat-icon>
            <a matLine>Marketing</a>
          </label>
        </mat-list-item>

        <div *midasHasPermission="'ALL_FUNCTIONS'">
          <mat-list-item class="tab-link" [matMenuTriggerFor]="accountingMenu" #accountingMenuTrigger="matMenuTrigger">
            <mat-icon matListIcon>
              <i class="fas fa-users-cog"></i>
            </mat-icon>
            <a matLine> {{ "Toolbar_Component.lblAdmin" | translate }}</a>
          </mat-list-item>

          <mat-list-item *midasHasActiveModule="'billModule'" [routerLink]="['/bills']">
            <mat-icon matListIcon>
              <i class="fas fa-receipt"></i>
            </mat-icon>
            <a matLine>Hóa đơn đầu vào</a>
          </mat-list-item>

          <mat-list-item [routerLink]="['/banks']">
            <mat-icon matListIcon>
              <fa-icon icon="university" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Ngân hàng</a>
          </mat-list-item>
        </div>
        <mat-list-item [routerLink]="['/checker-inbox-and-tasks/checker-inbox']">
          <mat-icon matListIcon>
            <i class="fa fa-check"></i>
          </mat-icon>
          <a matLine>Phê duyệt</a>
        </mat-list-item>

        <mat-list-item [routerLink]="['/notifications']">
          <mat-icon matListIcon>
            <fa-icon icon="bell" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Thông báo</a>
        </mat-list-item>

        <mat-list-item>
          <mat-icon matListIcon (click)="help()">
            <fa-icon icon="question-circle" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Hỗ trợ</a>
        </mat-list-item>

        <!-- <mat-list-item [routerLink]="['/dashboard']">
          <mat-icon matListIcon>
            <fa-icon icon="tachometer-alt" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Dashboard</a>
        </mat-list-item> -->

        <!-- <mat-list-item [routerLink]="['/navigation']">
          <mat-icon matListIcon>
            <fa-icon icon="location-arrow" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Navigation</a>
        </mat-list-item> -->
        <!-- <mat-list-item [routerLink]="['/collections/individual-collection-sheet']">
          <mat-icon matListIcon>
            <i class="fas fa-tasks"></i>
          </mat-icon>
          <a matLine>Individual Collection Sheet</a>
        </mat-list-item> -->
        <!-- <mat-list-item [routerLink]="['/accounting/journal-entries/frequent-postings']">
          <mat-icon matListIcon>
            <fa-icon icon="sync" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Frequent Postings</a>
        </mat-list-item>
        <mat-list-item [routerLink]="['/accounting/journal-entries/create']">
          <mat-icon matListIcon>
            <fa-icon icon="plus" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Create Journal Entry</a>
        </mat-list-item>
        <mat-list-item [routerLink]="['/accounting/chart-of-accounts']">
          <mat-icon matListIcon>
            <fa-icon icon="sitemap" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Chart of Accounts</a>
        </mat-list-item>
        <mat-list-item (click)="showKeyboardShortcuts()">
          <mat-icon matListIcon>
            <fa-icon icon="keyboard" size="sm"></fa-icon>
          </mat-icon>
          <a matLine>Keyboard Shortcuts</a>
        </mat-list-item> -->
      </mat-nav-list>
    </div>
  </div>
</div>
